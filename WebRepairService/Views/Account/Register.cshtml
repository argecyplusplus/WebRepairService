@model WebRepairService.ViewModels.RegisterViewModel
@{
    ViewData["Title"] = "Регистрация";
    Layout = "_Layout";
}

<div class="auth-wrapper">
    <div class="auth-form-container">
        <div class="auth-form">
            <h2>@ViewData["Title"]</h2>

            @if (ViewContext.ViewData.ModelState.ErrorCount > 0)
            {
                <div class="alert alert-danger">
                    <div asp-validation-summary="All"></div>
                </div>
            }

            <form asp-action="Register" method="post">
                <div class="form-row">
                    <div class="form-group col-md-6 mb-3">
                        <label asp-for="Username" class="form-label">Логин</label>
                        <input asp-for="Username" class="form-control" placeholder="Введите логин" />
                        <span asp-validation-for="Username" class="text-danger"></span>
                    </div>

                    <div class="form-group col-md-6 mb-3">
                        <label asp-for="FullName" class="form-label">ФИО</label>
                        <input asp-for="FullName" class="form-control" placeholder="Введите ФИО" />
                        <span asp-validation-for="FullName" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6 mb-3">
                        <label asp-for="Email" class="form-label">Email</label>
                        <input asp-for="Email" class="form-control" placeholder="example@mail.ru" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>

                    <div class="form-group col-md-6 mb-3">
                        <label asp-for="PhoneNumber" class="form-label">Телефон</label>
                        <input asp-for="PhoneNumber" class="form-control" placeholder="+7 (XXX) XXX-XX-XX" />
                        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6 mb-3">
                        <label asp-for="Password" class="form-label">Пароль</label>
                        <input asp-for="Password" class="form-control" type="password" placeholder="Не менее 6 символов" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>

                    <div class="form-group col-md-6 mb-3">
                        <label asp-for="ConfirmPassword" class="form-label">Подтвердите пароль</label>
                        <input asp-for="ConfirmPassword" class="form-control" type="password" placeholder="Повторите пароль" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="agreeTerms">
                        <label class="form-check-label" for="agreeTerms">
                            Я согласен с условиями использования
                        </label>
                    </div>
                </div>

                <div class="buttons-container">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-user-plus me-2"></i> Зарегистрироваться
                    </button>
                    <a asp-controller="Account" asp-action="Login" class="btn btn-outline-secondary">
                        <i class="fas fa-sign-in-alt me-2"></i> Уже есть аккаунт? Войти
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

@section Styles {
    <style>
        /* Основные стили */
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #fcfdfc;
        }

        .auth-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
            padding: 20px;
        }

        .auth-form-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .auth-form {
            background-color: white;
            padding: 2rem;
            border: 1px solid #c7e4d4;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-radius: 0;
        }

        /* Горизонтальное расположение полей */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-group {
            flex: 1;
            min-width: 250px;
        }

        /* Стили элементов формы */
        .auth-form h2 {
            color: #1d3c34;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.8rem;
        }

        .form-control {
            border-radius: 0;
            border: 1px solid #ddd;
            padding: 0.6rem 0.8rem;
            font-size: 1rem;
        }

        /* Стили для кнопок */
        .buttons-container {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

            .buttons-container .btn {
                flex: 1;
                min-width: 0;
                padding: 0.7rem;
                font-size: 1rem;
                text-align: center;
                white-space: nowrap;
                border-radius: 0;
            }

        /* Основные стили кнопки */
        .btn-primary {
            background-color: #9fceb6;
            border-color: #9fceb6;
            color: #1d3c34;
            transition: none;
        }

            /* Убираем все эффекты при наведении */
            .btn-primary:hover,
            .btn-primary:focus,
            .btn-primary:active {
                background-color: #9fceb6;
                border-color: #9fceb6;
                color: #1d3c34;
                box-shadow: none;
                outline: none;
            }

        .btn-outline-secondary {
            color: #1d3c34;
            border-color: #9fceb6;
        }

        /* Адаптивность */
        @@media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .form-group {
                min-width: 100%;
            }

            .buttons-container {
                flex-direction: column;
                gap: 0.7rem;
            }

            .auth-form {
                padding: 1.5rem;
            }
        }
    </style>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // Маска для телефона
        document.getElementById('PhoneNumber')?.addEventListener('input', function (e) {
            let x = e.target.value.replace(/\D/g, '').match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);
            e.target.value = '+7 (' + x[2] + (x[3] ? ') ' + x[3] : '') + (x[4] ? '-' + x[4] : '') + (x[5] ? '-' + x[5] : '');
        });
    </script>
}